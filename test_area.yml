

- hosts: labservers
  become: yes
  tasks:
    - name: Create file
      ansible.builtin.file:
        path: /tmp/newFile
        state: touch
      register: output

    - name: Show registered output
      ansible.builtin.debug:
        var: output

    - name: Add UID to the file
      ansible.builtin.lineinfile:
        path: /tmp/newFile
        line: "{{ output.uid }} - is the uid"

    - name: Add string using a condition
      ansible.builtin.lineinfile:
        path: /tmp/newFile
        line: "this line is added if uid is zero"
      when: output.uid == 0

    - name: Add string using a condition
      ansible.builtin.lineinfile:
        path: /tmp/newFile
        line: "this line is added if uid is not zero"
      when: output.uid != 0